angular.module("diff-match-patch",[]).factory("dmp",function(){function t(t){switch(t){case DIFF_INSERT:return"ins";case DIFF_DELETE:return"del";case DIFF_EQUAL:return"match"}}function e(t){switch(t){case DIFF_EQUAL:return" ";case DIFF_INSERT:return"+";case DIFF_DELETE:return"-"}}function n(t){switch(t){case DIFF_EQUAL:return"span";case DIFF_INSERT:return"ins";case DIFF_DELETE:return"del"}}function r(r,i){var c="";switch(i){case a.LINEDIFF:c='<div class="'+t(r)+'"><span class="noselect">'+e(r)+"</span>";break;case a.INSDEL:c="<"+n(r)+">"}return c}function i(t,e){var r="";switch(e){case a.LINEDIFF:r="</div>";break;case a.INSDEL:r="</"+n(t)+">"}return r}function c(t,e){for(var n=t.split("\n"),c=0;c<n.length;c++)0!==n[c].length&&(n[c]=r(e,a.LINEDIFF)+n[c]+i(e,a.LINEDIFF));return n.join("")}function f(t,e){for(var n=/&/g,f=/</g,l=/>/g,u=0;u<t.length;u++){var h=t[u][1],s=h.replace(n,"&amp;").replace(f,"&lt;").replace(l,"&gt;");t[u][1]=s}for(var o=[],u=0;u<t.length;u++){var m=t[u][0],s=t[u][1];o[u]=e===a.LINEDIFF?c(s,m):r(m,e)+s+i(m,e)}return o.join("")}var a={INSDEL:0,LINEDIFF:1};return{createDiffHtml:function(t,e){if(t&&e){var n=new diff_match_patch,r=n.diff_main(t,e);return f(r,a.INSDEL)}return""},createProcessingDiffHtml:function(t,e){if(t&&e){var n=new diff_match_patch,r=n.diff_main(t,e);return n.diff_cleanupEfficiency(r),f(r,a.INSDEL)}return""},createSemanticDiffHtml:function(t,e){if(t&&e){var n=new diff_match_patch,r=n.diff_main(t,e);return n.diff_cleanupSemantic(r),f(r,a.INSDEL)}return""},createLineDiffHtml:function(t,e){if(t&&e){var n=new diff_match_patch,r=n.diff_linesToChars_(t,e),i=n.diff_main(r.chars1,r.chars2,!1);return n.diff_charsToLines_(i,r.lineArray),f(i,a.LINEDIFF)}return""}}}).directive("diff",["$compile","dmp",function(t,e){var n={scope:{left:"=leftObj",right:"=rightObj"},link:function(n,r){var i=function(){r.html(e.createDiffHtml(n.left,n.right)),t(r.contents())(n)};n.$watch("left",i),n.$watch("right",i)}};return n}]).directive("processingDiff",["$compile","dmp",function(t,e){var n={scope:{left:"=leftObj",right:"=rightObj"},link:function(n,r){var i=function(){r.html(e.createProcessingDiffHtml(n.left,n.right)),t(r.contents())(n)};n.$watch("left",i),n.$watch("right",i)}};return n}]).directive("semanticDiff",["$compile","dmp",function(t,e){var n={scope:{left:"=leftObj",right:"=rightObj"},link:function(n,r){var i=function(){r.html(e.createSemanticDiffHtml(n.left,n.right)),t(r.contents())(n)};n.$watch("left",i),n.$watch("right",i)}};return n}]).directive("lineDiff",["$compile","dmp",function(t,e){var n={scope:{left:"=leftObj",right:"=rightObj"},link:function(n,r){var i=function(){r.html(e.createLineDiffHtml(n.left,n.right)),t(r.contents())(n)};n.$watch("left",i),n.$watch("right",i)}};return n}]);
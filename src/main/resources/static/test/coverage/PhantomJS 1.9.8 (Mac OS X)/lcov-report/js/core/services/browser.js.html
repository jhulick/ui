<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for js/core/services/browser.js</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="../../../prettify.css">
    <link rel="stylesheet" href="../../../base.css">
    <style type='text/css'>
        div.coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class="header low">
    <h1>Code coverage report for <span class="entity">js/core/services/browser.js</span></h1>
    <h2>
        Statements: <span class="metric">5.41% <small>(2 / 37)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Branches: <span class="metric">0% <small>(0 / 56)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Functions: <span class="metric">33.33% <small>(1 / 3)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Lines: <span class="metric">5.41% <small>(2 / 37)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        Ignored: <span class="metric"><span class="ignore-none">none</span></span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../index.html">All files</a> &#187; <a href="index.html">js/core/services/</a> &#187; browser.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/**=========================================================
 * Module: browser.js
 * Browser detection
 =========================================================*/
(function () {
    'use strict';
&nbsp;
    angular
        .module('app.core')
        .service('browser', <span class="fstat-no" title="function not covered" >function () {</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            var matched, browser;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            var uaMatch = <span class="fstat-no" title="function not covered" >function (ua) {</span></span>
<span class="cstat-no" title="statement not covered" >                ua = ua.toLowerCase();</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                var match = /(opr)[\/]([\w.]+)/.exec(ua) ||</span>
                    /(chrome)[ \/]([\w.]+)/.exec(ua) ||
                    /(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(ua) ||
                    /(webkit)[ \/]([\w.]+)/.exec(ua) ||
                    /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua) ||
                    /(msie) ([\w.]+)/.exec(ua) ||
                    ua.indexOf("trident") &gt;= 0 &amp;&amp; /(rv)(?::| )([\w.]+)/.exec(ua) ||
                    ua.indexOf("compatible") &lt; 0 &amp;&amp; /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua) ||
                    [];
&nbsp;
<span class="cstat-no" title="statement not covered" >                var platform_match = /(ipad)/.exec(ua) ||</span>
                    /(iphone)/.exec(ua) ||
                    /(android)/.exec(ua) ||
                    /(windows phone)/.exec(ua) ||
                    /(win)/.exec(ua) ||
                    /(mac)/.exec(ua) ||
                    /(linux)/.exec(ua) ||
                    /(cros)/i.exec(ua) ||
                    [];
&nbsp;
<span class="cstat-no" title="statement not covered" >                return {</span>
                    browser: match[3] || match[1] || "",
                    version: match[2] || "0",
                    platform: platform_match[0] || ""
                };
            };
&nbsp;
<span class="cstat-no" title="statement not covered" >            matched = uaMatch(window.navigator.userAgent);</span>
<span class="cstat-no" title="statement not covered" >            browser = {};</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (matched.browser) {</span>
<span class="cstat-no" title="statement not covered" >                browser[matched.browser] = true;</span>
<span class="cstat-no" title="statement not covered" >                browser.version = matched.version;</span>
<span class="cstat-no" title="statement not covered" >                browser.versionNumber = parseInt(matched.version);</span>
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (matched.platform) {</span>
<span class="cstat-no" title="statement not covered" >                browser[matched.platform] = true;</span>
            }
&nbsp;
            // These are all considered mobile platforms, meaning they run a mobile browser
<span class="cstat-no" title="statement not covered" >            if (browser.android || browser.ipad || browser.iphone || browser["windows phone"]) {</span>
<span class="cstat-no" title="statement not covered" >                browser.mobile = true;</span>
            }
&nbsp;
            // These are all considered desktop platforms, meaning they run a desktop browser
<span class="cstat-no" title="statement not covered" >            if (browser.cros || browser.mac || browser.linux || browser.win) {</span>
<span class="cstat-no" title="statement not covered" >                browser.desktop = true;</span>
            }
&nbsp;
            // Chrome, Opera 15+ and Safari are webkit based browsers
<span class="cstat-no" title="statement not covered" >            if (browser.chrome || browser.opr || browser.safari) {</span>
<span class="cstat-no" title="statement not covered" >                browser.webkit = true;</span>
            }
&nbsp;
            // IE11 has a new token so we will assign it msie to avoid breaking changes
<span class="cstat-no" title="statement not covered" >            if (browser.rv) {</span>
<span class="cstat-no" title="statement not covered" >                var ie = "msie";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                matched.browser = ie;</span>
<span class="cstat-no" title="statement not covered" >                browser[ie] = true;</span>
            }
&nbsp;
            // Opera 15+ are identified as opr
<span class="cstat-no" title="statement not covered" >            if (browser.opr) {</span>
<span class="cstat-no" title="statement not covered" >                var opera = "opera";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                matched.browser = opera;</span>
<span class="cstat-no" title="statement not covered" >                browser[opera] = true;</span>
            }
&nbsp;
            // Stock Android browsers are marked as Safari on Android.
<span class="cstat-no" title="statement not covered" >            if (browser.safari &amp;&amp; browser.android) {</span>
<span class="cstat-no" title="statement not covered" >                var android = "android";</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >                matched.browser = android;</span>
<span class="cstat-no" title="statement not covered" >                browser[android] = true;</span>
            }
&nbsp;
            // Assign the name and platform variable
<span class="cstat-no" title="statement not covered" >            browser.name = matched.browser;</span>
<span class="cstat-no" title="statement not covered" >            browser.platform = matched.platform;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >            return browser;</span>
        });
})();
&nbsp;</pre></td></tr>
</table></pre>

</div>
<div class="footer">
    <div class="meta">Generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Wed Apr 22 2015 12:38:47 GMT-0400 (EDT)</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
